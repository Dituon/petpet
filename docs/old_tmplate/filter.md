#### 滤镜 `filter`

通过滤镜实现头像特效, Java 与 JavaScript 版本实现有偏差, 并非完全相同

```jsonc
{
  "filter": [
    {
      "type": "SWIRL",
      "radius": 200,
      "angle": 5.0
    }
  ]
}
```

滤镜可使用数组实现动画, 例如:

```jsonc
{
  "type": "GIF",
  "background": {
    "length": 5, // GIF 长度是 5 帧
    "size": ["avatar0Width", "avatar0Height"] // 画布的尺寸为第一个头像的尺寸
  },
  "avatar": [{
    "type": "TO",
    "pos": [0, 0, "width", "height"], // 图像占满画布
    //省略...
    "filter": [{
      "type": "SWIRL",
      "angle": [0, 1.2, 2.4, 3.6, 4.8] // 对应每一帧的动画
    }]
  }]
  //省略...
}
```

<details><summary>实现差异对比</summary>

![实现差异对比](https://s2.loli.net/2023/11/01/n5dZ2SyQkNFWzCu.jpg)

</details>

##### 滤镜参数

- `SWIRL` , 漩涡滤镜

| **属性**     | **类型** | **注释**           | **默认值** |
|------------|--------|------------------|---------|
| **radius** | 浮点数    | 涡旋半径, 值为0时表示图片半径 | `0.0`   |
| **angle**  | 浮点数    | 涡旋角度             | `3.0`   |
| **x**      | 浮点数    | 中心点X坐标百分比        | `0.5`   |
| **y**      | 浮点数    | 中心点Y坐标百分比        | `0.5`   |

- `BULGE` , 膨胀收缩滤镜

| **属性**       | **类型** | **注释**                    | **默认值** |
|--------------|--------|---------------------------|---------|
| **radius**   | 浮点数    | 膨胀半径, 值为0时表示图片半径          | `0.0`   |
| **strength** | 浮点数    | 膨胀强度 `[-1, 1]`, 负数时产生收缩效果 | `0.5`   |
| **x**        | 浮点数    | 中心点X坐标百分比                 | `0.5`   |
| **y**        | 浮点数    | 中心点Y坐标百分比                 | `0.5`   |

- `SWIM` , 水下滤镜

| **属性**         | **类型** | **注释** | **默认值** |
|----------------|--------|--------|---------|
| **scale**      | 浮点数    | 缩放系数   | `32.0`  |
| **stretch**    | 浮点数    | 拉伸系数   | `1.0`   |
| **angle**      | 浮点数    | 角度     | `0.0`   |
| **amount**     | 浮点数    | 强度     | `10.0`  |
| **turbulence** | 浮点数    | 湍流系数   | `1.0`   |
| **time**       | 浮点数    | 时间     | `0.0`   |

- `BLUR` , 模糊滤镜

| **属性**     | **类型** | **注释** | **默认值** |
|------------|--------|--------|---------|
| **radius** | 浮点数    | 模糊半径   | `10.0`  |

- `CONTRAST` , 亮度对比度滤镜

| **属性**         | **类型** | **注释** | **默认值** |
|----------------|--------|--------|---------|
| **brightness** | 浮点数    | 亮度     | `0.0`   |
| **contrast**   | 浮点数    | 对比度    | `0.0`   |

- `HSB` , 相对HSB (色相, 饱和度, 亮度) 滤镜

| **属性**         | **类型** | **注释** | **默认值** |
|----------------|--------|--------|---------|
| **hue**        | 浮点数    | 色相     | `0.0`   |
| **saturation** | 浮点数    | 饱和度    | `0.0`   |
| **brightness** | 浮点数    | 亮度     | `0.0`   |

- `HALFTONE` , 半色调滤镜 (模仿彩色印刷的CMYK色彩)

| **属性**     | **类型** | **注释**    | **默认值** |
|------------|--------|-----------|---------|
| **angle**  | 浮点数    | 角度        | `0.0`   |
| **radius** | 浮点数    | 半径        | `4.0`   |
| **x**      | 浮点数    | 中心点X坐标百分比 | `0.5`   |
| **y**      | 浮点数    | 中心点Y坐标百分比 | `0.5`   |

- `DOT_SCREEN` , 单色点阵滤镜 (模仿黑白印刷品)

| **属性**     | **类型** | **注释**    | **默认值** |
|------------|--------|-----------|---------|
| **angle**  | 浮点数    | 角度        | `0.0`   |
| **radius** | 浮点数    | 半径        | `4.0`   |
| **x**      | 浮点数    | 中心点X坐标百分比 | `0.5`   |
| **y**      | 浮点数    | 中心点Y坐标百分比 | `0.5`   |

- `NOISE` , 噪声滤镜

| **属性**     | **类型** | **注释** | **默认值** |
|------------|--------|--------|---------|
| **amount** | 浮点数    | 噪声强度   | `0.25`  |

- `DENOISE` , 降噪滤镜

| **属性**       | **类型** | **注释** | **默认值** |
|--------------|--------|--------|---------|
| **exponent** | 浮点数    | 指数     | `20.0`  |

- `OIL` , 油画滤镜

| **属性**     | **类型** | **注释** | **默认值** |
|------------|--------|--------|---------|
| **skip**   | 浮点数    | 迭代跨越系数 | `4.0`   |
| **range**  | 浮点数    | 迭代范围   | `12.0`  |
| **levels** | 浮点数    | 等级     | `8.0`   |